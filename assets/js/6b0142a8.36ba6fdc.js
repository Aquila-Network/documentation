"use strict";(self.webpackChunkaquila=self.webpackChunkaquila||[]).push([[948],{3905:function(e,n,t){t.d(n,{Zo:function(){return i},kt:function(){return g}});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=a.createContext({}),u=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},i=function(e){var n=u(e.components);return a.createElement(s.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,i=o(e,["components","mdxType","originalType","parentName"]),m=u(t),g=r,k=m["".concat(s,".").concat(g)]||m[g]||c[g]||l;return t?a.createElement(k,p(p({ref:n},i),{},{components:t})):a.createElement(k,p({ref:n},i))}));function g(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,p=new Array(l);p[0]=m;var o={};for(var s in n)hasOwnProperty.call(n,s)&&(o[s]=n[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,p[1]=o;for(var u=2;u<l;u++)p[u]=t[u];return a.createElement.apply(null,p)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},4825:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return o},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return i},default:function(){return m}});var a=t(7462),r=t(3366),l=(t(7294),t(3905)),p=["components"],o={},s="API",u={unversionedId:"port/apis/API",id:"port/apis/API",isDocsHomePage:!1,title:"API",description:"Authors:  *Jubin Jose*, *Nibin Peter*",source:"@site/docs/port/apis/API.md",sourceDirName:"port/apis",slug:"/port/apis/API",permalink:"/docs/port/apis/API",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/port/apis/API.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Node JS",permalink:"/docs/port/apis/javascript"},next:{title:"Aquila X UI",permalink:"/docs/x/Aquila X"}},i=[{value:"API definitions",id:"api-definitions",children:[],level:2}],c={toc:i};function m(e){var n=e.components,t=(0,r.Z)(e,p);return(0,l.kt)("wrapper",(0,a.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"api"},"API"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Authors:  ",(0,l.kt)("em",{parentName:"strong"},"Jubin Jose"),", ",(0,l.kt)("em",{parentName:"strong"},"Nibin Peter"))),(0,l.kt)("h2",{id:"api-definitions"},"API definitions"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"1. Get Aquila Port node status:")," "),(0,l.kt)("p",null,"[GET]","  /"),(0,l.kt)("p",null,"request:  "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"{}\n")),(0,l.kt)("p",null,"response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'{\n    {"nodeId":<UUID String>}\n}\n')),(0,l.kt)("h2",{id:""}),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"2. Database exists:")," "),(0,l.kt)("p",null,"[HEAD]","  /{database name}"),(0,l.kt)("p",null,"request:  "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"{}\n")),(0,l.kt)("p",null,"response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"{}\n")),(0,l.kt)("h2",{id:"-1"}),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"3. Create Database:")," "),(0,l.kt)("p",null,"[PUT]","  /{database name}"),(0,l.kt)("p",null,"request:  "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"{}\n")),(0,l.kt)("p",null,"response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'{\n  "ok":<Status Boolean>\n}\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"4. Get Database Information:")," "),(0,l.kt)("p",null,"[GET]","  /{database name}"),(0,l.kt)("p",null,"request:  "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"{}\n")),(0,l.kt)("p",null,"response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'{\n  "db_name":<Database name String>\n}\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"5. Bulk Insert Documents:")," "),(0,l.kt)("p",null,"[POST]","  /{database name}/_bulk_docs"),(0,l.kt)("p",null,"request:  "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'[{\n    "id": <Document ID String>,\n    "deleted": <Delete status Boolean>,\n    "timestamp": <UNIX Timestamp String>,\n    "payload": <Payload data String>,\n    "signature": <Payload signature String>\n},\n  ...\n]\n')),(0,l.kt)("p",null,"response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'[{\n    "id": <Document ID String>,\n    "deleted": <Delete status Boolean>,\n    "timestamp": <UNIX Timestamp String>,\n    "version": <Version number String>,\n    "payload": <Payload data String>,\n    "signature": <Payload signature String>\n},\n  ...\n]\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"6. Bulk Get Documents:")," "),(0,l.kt)("p",null,"[GET]","  /{database name}/_all_docs"),(0,l.kt)("p",null,"request:  "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"{}\n")),(0,l.kt)("p",null,"response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'[{\n    "id": <Document ID String>,\n    "deleted": <Delete status Boolean>,\n    "timestamp": <UNIX Timestamp String>,\n    "version": <Version number String>,\n    "payload": <Payload data String>,\n    "signature": <Payload signature String>\n},\n  ...\n]\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"7. Get Changes List:")," "),(0,l.kt)("p",null,"[GET]","  /{database name}/_changes"),(0,l.kt)("p",null,"request:  "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"{}\n")),(0,l.kt)("p",null,"response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'{\n  "last_seq": <Last Sequence Integer>,\n  "pending": <Pending results Integer>,\n  "results": [\n    {\n      "changes": [\n        {\n          "rev": <Version number String>\n        }\n      ],\n      "id": <Document ID String>,\n      "seq": <Document sequence Integer>,\n      "deleted": <Deleted status Boolean>\n    },\n    ...\n  ]\n}\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"8. Send Revision Differences:")," "),(0,l.kt)("p",null,"[POST]","  /{database name}/_revs_diff"),(0,l.kt)("p",null,"request:  "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"{\n    <Document ID String>: [\n        <Version number String>\n    ],\n    ...\n}\n")),(0,l.kt)("p",null,"response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"{\n  <Document ID String>: [\n    <Version number String>\n  ],\n  ...\n}\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"9. Commit Replicated Changes:")," "),(0,l.kt)("p",null,"[POST]","  /{database name}/_ensure_full_commit"),(0,l.kt)("p",null,"request:  "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"{}\n")),(0,l.kt)("p",null,"response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'{\n  "ok":<Commit status Boolean>\n}\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"10. Update Replication Checkpoint:")," "),(0,l.kt)("p",null,"[PUT]","  /{database name}/_local"),(0,l.kt)("p",null,"request:  "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'{\n    "id": <Replication ID String>,\n    "ok": true,\n    "rev": <Version number String>\n}\n')),(0,l.kt)("p",null,"response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'{\n    "id": <Replication ID String>,\n    "ok": true,\n    "rev": <Version number String>\n}\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"11. Enable Push Replication:")," "),(0,l.kt)("p",null,"[POST]","  /{database name}/replicate"),(0,l.kt)("p",null,"request:  "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'{\n    "target": <Target node ex:"http://localhost:5007/" String>\n}\n')),(0,l.kt)("p",null,"response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'{\n    "target": <Target node ex:"http://localhost:5007/" String>\n}\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"12. Disable Push Replication:")," "),(0,l.kt)("p",null,"[DELETE]","  /{database name}/replicate"),(0,l.kt)("p",null,"request:  "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'{\n    "target": <Target node ex:"http://localhost:5007/" String>\n}\n')),(0,l.kt)("p",null,"response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'{\n    "target": <Target node ex:"http://localhost:5007/" String>\n}\n')))}m.isMDXComponent=!0}}]);